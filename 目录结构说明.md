# scRNA-DataHub 目录结构说明

## 📁 项目目录结构

```
scRNA-DataHub/
├── 📄 README.md                   # 英文说明文档
├── 📄 README_CN.md                # 中文说明文档（主入口）
├── 📄 CHANGELOG.md                # 版本更新日志
├── 📄 CONTRIBUTING.md             # 贡献指南
├── 📄 LICENSE                     # MIT 开源协议
├── 📄 requirements.txt            # Python 依赖列表
├── 📄 environment.yml             # Conda 环境配置
├── 📄 setup.py                    # 安装脚本
├── 📄 pyproject.toml              # 项目配置
├── 📄 目录结构说明.md              # 本文件
│
├── 📂 src/                        # 源代码目录
│   ├── __init__.py
│   └── universal_reader.py        # 核心读取器（~1000行）
│
├── 📂 docs/                       # 文档目录
│   ├── README.md                  # 文档导航
│   ├── installation.md            # 安装指南
│   ├── quickstart.md              # 快速开始
│   ├── user_guide.md              # 用户手册
│   ├── api_reference.md           # API 参考
│   ├── data_formats.md            # 数据格式详解
│   ├── dnb_c4_format.md           # DNB C4 格式说明
│   ├── environment_management.md  # 环境管理指南
│   ├── version_compatibility.md   # 版本兼容性
│   ├── troubleshooting.md         # 故障排除
│   ├── test_data_guide.md         # 测试数据指南
│   ├── test_data_sources.md       # 测试数据来源
│   └── faq.md                     # 常见问题
│
├── 📂 examples/                   # 示例代码目录
│   ├── basic_usage.py             # 基础用法示例
│   ├── batch_processing.py        # 批量处理示例
│   └── multi_sample.py            # 多样本处理示例
│
├── 📂 scripts/                    # 脚本目录
│   ├── create_test_data.py        # 测试数据生成脚本
│   ├── quick_test.sh              # 快速测试脚本
│   └── test_data_all_formats/     # 格式测试目录
│       ├── README.md              # 测试说明文档
│       ├── QUICK_START.sh         # 一键快速测试
│       ├── run_all_format_tests_simple.sh  # 完整测试脚本
│       ├── test_data_manifest.txt # 测试数据清单
│       └── [17种格式的测试数据]    # 各种格式测试文件
│
└── 📂 tests/                      # 单元测试目录
    └── test_universal_reader.py   # 单元测试
```

---

## 📋 核心文件说明

### 必需文件

| 文件 | 说明 | 重要性 |
|------|------|--------|
| `src/universal_reader.py` | 核心读取器，支持17种格式 | ⭐⭐⭐⭐⭐ |
| `README_CN.md` | 中文主文档 | ⭐⭐⭐⭐⭐ |
| `requirements.txt` | Python 依赖管理 | ⭐⭐⭐⭐⭐ |
| `environment.yml` | Conda 环境配置 | ⭐⭐⭐⭐ |
| `LICENSE` | 开源协议 | ⭐⭐⭐⭐ |

### 文档文件

| 文件 | 说明 | 适用人群 |
|------|------|---------|
| `docs/installation.md` | 安装指南 | 首次使用 |
| `docs/quickstart.md` | 5分钟快速入门 | 新用户 |
| `docs/user_guide.md` | 完整使用手册 | 所有用户 |
| `docs/api_reference.md` | API 详细文档 | 开发者 |
| `docs/data_formats.md` | 17种格式详解 | 数据处理者 |
| `docs/faq.md` | 常见问题 | 遇到问题时 |

### 示例文件

| 文件 | 演示内容 | 场景 |
|------|---------|------|
| `examples/basic_usage.py` | 基础用法 | 单文件转换 |
| `examples/batch_processing.py` | 批量处理 | 多文件转换 |
| `examples/multi_sample.py` | 多样本整合 | 整合分析 |

### 测试文件

| 文件 | 说明 | 用途 |
|------|------|------|
| `scripts/test_data_all_formats/QUICK_START.sh` | 快速测试（6种格式） | 验证环境 |
| `scripts/test_data_all_formats/run_all_format_tests_simple.sh` | 完整测试（17种格式） | 全面验证 |
| `scripts/create_test_data.py` | 生成测试数据 | 测试准备 |

---

## ✅ 支持的格式（17种）

### 10X Genomics 格式（4种）
1. ✅ 10X MTX v3（压缩）
2. ✅ 10X MTX v2（未压缩）
3. ✅ 10X H5 v3
4. ✅ 10X H5 v2

### 标准单细胞格式（3种）
5. ✅ H5AD（Scanpy 标准）
6. ✅ Loom
7. ✅ Zarr

### 文本格式（6种）
8. ✅ CSV
9. ✅ CSV（压缩）
10. ✅ TSV
11. ✅ TSV（压缩）
12. ✅ TXT
13. ✅ Excel

### 其他格式（4种）
14. ✅ MTX 单文件
15. ✅ MTX 单文件（压缩）
16. ✅ UMI-tools 输出
17. ✅ 自定义 10X MTX（包括 DNB C4 等变体）

### 特殊说明

**DNB C4 格式**（MGI DNBelab C4 平台）属于"自定义 10X MTX"类别：
- 文件结构与标准 10X MTX 相同
- `features.tsv` 只有 1 列（vs 标准 10X 的 2-3 列）
- 工具会自动检测并处理
- 详见 [docs/dnb_c4_format.md](docs/dnb_c4_format.md)

> **测试状态**: 17/17 全部通过 ✅

---

## 🚀 快速导航

### 新用户（从这里开始）
1. 阅读 → `README_CN.md`
2. 安装 → `docs/installation.md`
3. 快速上手 → `docs/quickstart.md`
4. 运行示例 → `examples/basic_usage.py`

### 安装配置
1. 查看依赖 → `requirements.txt` 或 `environment.yml`
2. 安装指南 → `docs/installation.md`
3. 环境管理 → `docs/environment_management.md`
4. 运行测试 → `scripts/test_data_all_formats/QUICK_START.sh`

### 使用文档
1. 快速入门 → `docs/quickstart.md`
2. 详细手册 → `docs/user_guide.md`
3. API 文档 → `docs/api_reference.md`
4. 格式说明 → `docs/data_formats.md`

### 问题排查
1. 常见问题 → `docs/faq.md`
2. 故障排除 → `docs/troubleshooting.md`
3. 版本兼容 → `docs/version_compatibility.md`
4. 更新日志 → `CHANGELOG.md`

---

## 📊 项目统计

| 项目 | 数量/信息 |
|------|----------|
| 源代码文件 | 1个（~1000行） |
| 文档文件 | 13个 |
| 示例代码 | 3个 |
| 测试脚本 | 2个 |
| 支持格式 | 17种 |
| 测试覆盖 | 100% |

---

## 📝 目录设计原则

### 保留原则 ✅
- 核心源代码
- 必要的配置文件
- 实用的文档
- 可运行的示例
- 测试脚本和数据

### 删除原则 ❌
- 调试过程文档
- 临时修复记录
- 重复的说明文档
- 过时的测试脚本

---

## 🔄 最近更新（v1.0.7）

**精简内容：**
- ❌ 删除 `GETTING_STARTED.md`（内容合并到 `docs/quickstart.md`）
- ❌ 删除 `PROJECT_STRUCTURE.md`（内容合并到本文件）
- ❌ 删除 `项目概览.md`（内容分散到其他文档）
- ✅ 统一所有文档中的格式数量为 **17种**
- ✅ 移除所有硬编码路径
- ✅ 统一测试脚本名称

**结果：**
- 文档数量从 20+ 减少到 13个
- 结构更清晰，易于维护
- 信息一致，无冗余

---

**版本**: v1.0.7（精简版）  
**更新时间**: 2024-12-03  
**状态**: ✅ 结构清晰，文档统一
